{"ast":null,"code":"import { defineComponent as e, toRef as a, computed as l, ref as t, watch as u, h as n } from \"vue\";\nconst o = {\n    type: Function,\n    required: false,\n    default: () => {}\n  },\n  i = {\n    padding: 0,\n    border: 0,\n    margin: 0\n  },\n  r = {\n    willChange: \"height\"\n  },\n  s = e({\n    name: \"Collapse\",\n    inheritAttrs: true,\n    props: {\n      when: {\n        type: Boolean,\n        required: true\n      },\n      baseHeight: {\n        type: Number,\n        required: false,\n        default: 0\n      },\n      as: {\n        type: String,\n        required: false,\n        default: \"div\"\n      },\n      onExpand: o,\n      onExpanded: o,\n      onCollapse: o,\n      onCollapsed: o\n    },\n    setup(e2, {\n      slots: o2\n    }) {\n      const s2 = a(e2, \"when\"),\n        d2 = a(e2, \"baseHeight\"),\n        p = l(() => {\n          const e3 = {\n            overflow: \"hidden\",\n            height: `${d2.value}px`\n          };\n          return {\n            visible: e3,\n            collapsed: {\n              ...i,\n              ...(0 === d2.value ? {\n                display: \"none\"\n              } : e3)\n            }\n          };\n        }),\n        h = t(null),\n        g = t(s2.value ? i : p.value.collapsed),\n        c = t(s2.value ? \"expanded\" : \"collapsed\");\n      function m(a2) {\n        var _a, _b;\n        a2.target === h.value && \"height\" === a2.propertyName && (s2.value ? ((_a = h.value) == null ? void 0 : _a.scrollHeight) === parseFloat(a2.target.style.height) && (g.value = i, c.value = \"expanded\", e2.onExpanded()) : ((_b = h.value) == null ? void 0 : _b.style.height) === `${d2.value}px` && (g.value = p.value.collapsed, c.value = \"collapsed\", e2.onCollapsed()));\n      }\n      return u(s2, a2 => {\n        requestAnimationFrame(() => {\n          var _a;\n          a2 ? (g.value = {\n            ...i,\n            ...r,\n            ...p.value.visible\n          }, requestAnimationFrame(() => {\n            var _a2;\n            g.value = {\n              ...g.value,\n              ...v((_a2 = h.value) == null ? void 0 : _a2.scrollHeight, d2.value)\n            }, c.value = \"expanding\", e2.onExpand();\n          })) : (g.value = {\n            ...g.value,\n            ...r,\n            ...v((_a = h.value) == null ? void 0 : _a.scrollHeight, d2.value)\n          }, requestAnimationFrame(() => {\n            g.value = {\n              ...g.value,\n              ...p.value.visible\n            }, c.value = \"collapsing\", e2.onCollapse();\n          }));\n        });\n      }), u(d2, e3 => {\n        s2.value || (g.value = {\n          ...g.value,\n          transitionDuration: \"0s\",\n          height: `${e3}px`\n        });\n      }), () => {\n        var _a;\n        return n(e2.as, {\n          ref: e3 => h.value = e3,\n          style: g.value,\n          onTransitionend: m,\n          \"data-collapse\": c.value\n        }, (_a = o2.default) == null ? void 0 : _a.call(o2, {\n          state: c.value\n        }));\n      };\n    }\n  });\nfunction v(e2 = 0, a2 = 0) {\n  return {\n    \"--vc-auto-duration\": `${d(e2 - a2)}ms`,\n    height: `${e2}px`\n  };\n}\nfunction d(e2 = 0) {\n  if (0 === e2) return 0;\n  const a2 = e2 / 36;\n  return Math.round(10 * (4 + 15 * a2 ** 0.25 + a2 / 5));\n}\nexport { s as Collapse };","map":{"version":3,"names":["defineComponent","e","toRef","a","computed","l","ref","t","watch","u","h","n","o","type","Function","required","default","i","padding","border","margin","r","willChange","s","name","inheritAttrs","props","when","Boolean","baseHeight","Number","as","String","onExpand","onExpanded","onCollapse","onCollapsed","setup","e2","slots","o2","s2","d2","p","e3","overflow","height","value","visible","collapsed","display","g","c","m","a2","_a","_b","target","propertyName","scrollHeight","parseFloat","style","requestAnimationFrame","_a2","v","transitionDuration","onTransitionend","call","state","d","Math","round","Collapse"],"sources":["/home/redalex/node_modules/vue-collapsed/dist/index.mjs"],"sourcesContent":["import { defineComponent as e, toRef as a, computed as l, ref as t, watch as u, h as n } from \"vue\";\nconst o = { type: Function, required: false, default: () => {\n} }, i = { padding: 0, border: 0, margin: 0 }, r = { willChange: \"height\" }, s = e({ name: \"Collapse\", inheritAttrs: true, props: { when: { type: Boolean, required: true }, baseHeight: { type: Number, required: false, default: 0 }, as: { type: String, required: false, default: \"div\" }, onExpand: o, onExpanded: o, onCollapse: o, onCollapsed: o }, setup(e2, { slots: o2 }) {\n  const s2 = a(e2, \"when\"), d2 = a(e2, \"baseHeight\"), p = l(() => {\n    const e3 = { overflow: \"hidden\", height: `${d2.value}px` };\n    return { visible: e3, collapsed: { ...i, ...0 === d2.value ? { display: \"none\" } : e3 } };\n  }), h = t(null), g = t(s2.value ? i : p.value.collapsed), c = t(s2.value ? \"expanded\" : \"collapsed\");\n  function m(a2) {\n    var _a, _b;\n    a2.target === h.value && \"height\" === a2.propertyName && (s2.value ? ((_a = h.value) == null ? void 0 : _a.scrollHeight) === parseFloat(a2.target.style.height) && (g.value = i, c.value = \"expanded\", e2.onExpanded()) : ((_b = h.value) == null ? void 0 : _b.style.height) === `${d2.value}px` && (g.value = p.value.collapsed, c.value = \"collapsed\", e2.onCollapsed()));\n  }\n  return u(s2, (a2) => {\n    requestAnimationFrame(() => {\n      var _a;\n      a2 ? (g.value = { ...i, ...r, ...p.value.visible }, requestAnimationFrame(() => {\n        var _a2;\n        g.value = { ...g.value, ...v((_a2 = h.value) == null ? void 0 : _a2.scrollHeight, d2.value) }, c.value = \"expanding\", e2.onExpand();\n      })) : (g.value = { ...g.value, ...r, ...v((_a = h.value) == null ? void 0 : _a.scrollHeight, d2.value) }, requestAnimationFrame(() => {\n        g.value = { ...g.value, ...p.value.visible }, c.value = \"collapsing\", e2.onCollapse();\n      }));\n    });\n  }), u(d2, (e3) => {\n    s2.value || (g.value = { ...g.value, transitionDuration: \"0s\", height: `${e3}px` });\n  }), () => {\n    var _a;\n    return n(e2.as, { ref: (e3) => h.value = e3, style: g.value, onTransitionend: m, \"data-collapse\": c.value }, (_a = o2.default) == null ? void 0 : _a.call(o2, { state: c.value }));\n  };\n} });\nfunction v(e2 = 0, a2 = 0) {\n  return { \"--vc-auto-duration\": `${d(e2 - a2)}ms`, height: `${e2}px` };\n}\nfunction d(e2 = 0) {\n  if (0 === e2)\n    return 0;\n  const a2 = e2 / 36;\n  return Math.round(10 * (4 + 15 * a2 ** 0.25 + a2 / 5));\n}\nexport {\n  s as Collapse\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}